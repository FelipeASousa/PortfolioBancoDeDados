

<h1> Portfolio das APIs - Felipe Sousa </h1>
<p> Trabalho de Graduação na modalidade Portfólio das Aprendizagens a partir de Projeto Integrador (APIs), apresentado à Faculdade de Tecnologia de São José dos Campos, como parte dos requisitos necessários para a obtenção do título de Tecnólogo em Banco de Dados. </p>
<hr/>
<p align="center">
    <a href =""> Sumário </a>  •
    <a href =""> Projetos</a>  • 
</p> 
<h2> Sobre mim </h2>
<p align="center"><img src="https://github.com/FelipeASousa/PortifolioBancoDeDados/blob/main/files/profile.jpeg?raw=true" width="20%"></p>
<p> Formado em Técnico em Informática pela Escola Técnica Estadual Ilza Nascimento Pintus e atualmente matriculado no 5º semestre de Banco de Dados pela Faculdade de Tecnologia de São José dos Campos (FATEC).
</p>
<p>
     Atualmente sou estágiario de tecnologia no time de Planejamento e Compras de Interiores na Embraer, cujo o foco das minhas atividades permeiam por criação de ETLs, desenvolvimento de RPAs (Robotic Process Automation) com Python, análise de dados e criação de dashboards e visibilidades.
</p>
<ul>
    <li><a href="https://www.linkedin.com/in/felipe-s-89938418a/"> Linkedin </a></li>
    <li><a href="https://github.com/FelipeASousa"> Github </a></li>
</ul>
<p> Meus principais conhecimentos e foco de estudo atuais estão relacionados a Business Intelligence e todos seus pormenores. Processos de ETL, estruturação de data warehouse e construção de dashboards e visibilidades que ajudam na tomada de decisão de negócios. E também processos relacionados a automação de atividades através da criação de RPAs.</p>
<hr/>
<h2> Meus projetos </h2>
<h3> Site de Gerenciamento de Projetos </h3>
<h3> 1º Semestre • 1/2021 </h3>
<p> Parceiro Acadêmico: Faculdade Tecnológica de São José dos Campos </p>
<h4>Descrição do projeto</h4>
<p> Sistema web desenvolvido para uma creche, com o objetivo de realizar cadastros de Voluntários e Projetos instituicionais.</p>




<p>Link do Repositório </p><a href="https://github.com/UniversalDevs/Projeto_API_VoMariaFelix"> Instituto Vó Maria Félix</a>
<h4> Prévia da Solução </h4>
<p> Como solução, foi planejado um site web com duas interfaces de uso. A primeira seria uma área reservada para os gerenciamento de voluntários e projetos, com as principais funções de cadastro, alteração e deleção e a outra área concernente a exposição de projetos em um site aberto ao público.</p>
<h4> Tecnologias Utilizadas </h4>
<p>PHP, framework Laravel, MySQl, HTML,CSS, Javascript</p>

<hr/>
<h4> Contribuições Pessoais </h4>
<details>
 <summary>Páginas do Site Público</summary>
<p> As telas apresentadas abaixo são a interface do usuário com as informações cadastrada dos projetos </p>
<h5>Página Home</h5>
<img src ="https://github.com/UniversalDevs/Projeto_API/raw/main/Gifs/PaginaInicial.gif"/>
<a href="https://github.com/UniversalDevs/Projeto_API_VoMariaFelix/blob/main/Sprint1/Front-End-main/home.html">Link do Código desenvolvido</a>

<h5>Galeria de voluntários</h5>
<img src ="https://github.com/UniversalDevs/Projeto_API/raw/main/Gifs/GaleriaVoluntarios.gif"/>
<a href="https://github.com/UniversalDevs/Projeto_API_VoMariaFelix/blob/main/Sprint1/Front-End-main/home.html">Link do Código desenvolvido</a>


<h5>Página de Projetos</h5>
<img src ="https://github.com/UniversalDevs/Projeto_API/raw/main/Gifs/AbaProjetos.gif"/>
<a href="https://github.com/UniversalDevs/Projeto_API_VoMariaFelix/blob/main/Sprint1/Front-End-main/Projetos.html">Link do Código desenvolvido</a>

<h5>Aba de Contatos</h5>
<img src ="https://github.com/UniversalDevs/Projeto_API/raw/main/Gifs/Contatos.gif"/>
<a href="https://github.com/UniversalDevs/Projeto_API_VoMariaFelix/blob/main/Sprint1/Front-End-main/Contato.html">Link do Código desenvolvido</a>

</details>
<details>
 <summary>Artefatos Scrum</summary>

<h5>Product Backlog</h5>
<img src="https://github.com/UniversalDevs/Projeto_API/raw/main/Documentos/BacklogTotal.PNG"/>

<h5>Controle de Atividades & Burndown</h5>
<img src="https://github.com/UniversalDevs/Projeto_API/raw/main/Documentos/Burndowns/BurndownSprint%231.png" width="200"/>
<img src="https://github.com/UniversalDevs/Projeto_API/raw/main/Documentos/Burndowns/BurndownSprint%232.PNG" width="200"/>
<img src="https://github.com/UniversalDevs/Projeto_API/raw/main/Documentos/Burndowns/BurndownSprint%233.PNG" width="200"/>
<img src="https://github.com/UniversalDevs/Projeto_API/raw/main/Documentos/Sprint4/GraficodoBurndownSprint4.PNG" width="200"/>

<h5>Backlog da Sprint</h5>
<img src="https://github.com/UniversalDevs/Projeto_API/blob/main/Documentos/CronogramaParte1.PNG" width="300"/>
<img src="https://github.com/UniversalDevs/Projeto_API/raw/main/Documentos/CronogramaParte2.PNG" width="300"/>
</details>

<details>
    <summary>Apresentação do Projeto</summary>
<a href="https://youtu.be/3tuGaeSp4I8?si=97fQEwyRCjKnHCiA"><img src="https://github.com/FelipeASousa/PortifolioBancoDeDados/blob/main/files/api-1.png?raw=true" width="300"/></a>
</details>

<h4> Lições Aprendidas </h4>
<p>Nesse semestre pude apreder a como aplicar as práticas Scrum, como reuniões diárias e planejamento, no desenvolvimento de um projeto e aprimorar sua estrutura através do uso de frameworks e ferramentas.</p>

<table>
    <thead>
        <th>Soft Skill</th>
        <th>Descrição</th>
    </thead>
    <tbody>
        <tr>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
        </tr>
    </tbody>
</table>

<table>
    <thead>
        <th>Soft Skill</th>
        <th>Descrição</th>
    </thead>
    <tbody>
        <tr>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
        </tr>
    </tbody>
</table>

<table>
    <thead>
        <th>Soft Skill</th>
        <th>Descrição</th>
    </thead>
    <tbody>
        <tr>
            <td>
                <li>Comunicação assertiva</li>
            </td>
            <td></td>
        </tr>
        <tr>
            <td>
                <li>Planejamento pessoal</li>
            </td>
            <td></td>
        </tr>
    </tbody>
</table>

<table>
    <thead>
        <th>Hard Skill</th>
        <th>Descrição</th>
    </thead>
    <tbody>
        <tr>
            <td>
                Desenvolvimento de Frontend com
                <ul>
                    <li>HTML</li>
                    <li>CSS</li>
                    <li>Javascript</li>
                </ul>  
            </td>
            <td></td>
        </tr>
        <tr>
            <td>
                Desenvolvimento de Backend
                <ul>
                    <li>PHP</li>
                    <li>Laravel</li>
                </ul>
            </td>
            <td></td>
        </tr>
        <tr>
            <td>
                Criaçao de Banco de Dados com
                <ul>
                    <li>MySQL</li>
                </ul>
            </td>
            <td></td>
        </tr>
    </tbody>
</table>

<h4> Hard Skills </h4>

<hr/>
<h3> </h3>
<h3> 2º Semestre • 2/2021 </h3>
<p> Parceiro Acadêmico: Jetsoft </p>

<h4>Descrição do projeto</h4>
<p> Aplicação Web para emissão de relatórios mensais do quadro de presença de colaboradores em postos de trabalhos acordados em contrato, para uma empresa de tercerização de serviços.</p>

<a href="https://youtu.be/822ikn9mlRQ?si=ENVGBBPhOa6YHv7O"><img src="https://github.com/FelipeASousa/PortifolioBancoDeDados/blob/main/files/api-2.png?raw=true" width="300"/></a>

<p>Link do Repositório </p><a href="https://github.com/gbrramos/API_ADS_2021_2">JetSoft</a>
<h4> Prévia da Solução </h4>
<p> Como solução foi estruturado um site, para realizar os cadastros de colaborades e postos de trabalho. O site também possui um quadro de colaboradores, com um sistema de contigências para possíveis alterações no quadro. Por fim, pelo site também é possível gerar relatórios e dahsboards para garantir o acompanhamento.</p>
<h4> Tecnologias Utilizadas </h4>
<p> Python,Django, Html, CSS, MySQL</p>
<h4> Contribuições Pessoais </h4>
<details>
    <summary>Artefatos Scrum</summary>
    <p>Nesse semestre atuei como Product Owner e fui responsável por desenvolver os artefatos scrum</p>
    <h5>Product Backlog</h5>
    <img src="https://github.com/gbrramos/API_ADS_2021_2/raw/main/Documentacao/BacklogProdutoAPI.PNG" width="300"/>
</details>

<details>
    <summary>Funcionalides de Cadastro</summary>
    <p> Nesse projeto contribui para as funcionalidades do backend, como cadastros, atualizações e deleções. Também realizei a construção do quadro de presenças e do sistema de contigências, através do uso de framework Django.</p>
    <details>
        <summary>Cadastro de Clientes</summary>
        
```python
from django.contrib import admin
from .models import Clientes


# Register your models here.
admin.site.register(Clientes)


# apps.py

from django.apps import AppConfig


class ClientesConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'Clientes'

# forms.py
from django import forms
from django.db.models import fields
from .models import Clientes

class ClientesForm(forms.ModelForm):

    class Meta:
        model =  Clientes
        fields = ('nome_fantasia', 'razao_social', 'cnpj', 'contato', 'endereco')

        widgets = {
            'contato': forms.TextInput(attrs={'data-mask':"(00) 00000-0000"}),
            'cnpj': forms.TextInput(attrs={'data-mask': "00.000.000/0000-00"})
            }

# models.py
from django.db import models
from django.db.models.fields import CharField, TextField


# Create your models here.
class Clientes(models.Model):

    nome_fantasia = models.CharField(max_length=255)
    razao_social = models.CharField(max_length=50)
    cnpj = models.CharField(max_length=50)
    contato = models.CharField(max_length=50)
    endereco = CharField(max_length=255)
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

    def __str__(self):
        return self.nome_fantasia

# urls.py
from django.urls import path

from . import views

urlpatterns = [
    path('lista', views.lista, name='clientes-lista'),
    path('novo/', views.novo, name="clientes-novo"),
    path('editar/<int:id>', views.editar, name="clientes-editar"),
    path('delete/<int:id>', views.delete, name="clientes-delete"),
    path('view/<int:id>', views.view, name="clientes-view"),
]
```
</details>
<details>
        <summary>Cadastro de Usuários</summary>
        
```python
# admin.py
from django.contrib import admin
from Usuarios.models import Usuarios
# Register your models here.
admin.site.register(Usuarios)

# apps.py
from django.apps import AppConfig


class UsuariosConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'Usuarios'

# forms.py
from django import forms
from django.db.models import fields
from django.contrib.auth.models import User

class UsuariosForm(forms.ModelForm):

    class Meta:
        model =  User
        fields = ('username', 'password',  'email', 'is_superuser')

        widgets = {
        'password': forms.PasswordInput(),
        }

# models.py
from django.db import models
from django.db.models.fields import CharField, TextField

class Usuarios(models.Model):

    STATUS  = (
        ('tatico','TÁTICO'),
        ('operacional','OPERACIONAL'),
    )

    nome = models.CharField(max_length=255)
    username = models.CharField(max_length=255)
    password = models.CharField(max_length=255)
    perfil = models.CharField(max_length=11, choices=STATUS)

    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

    def __str__(self):
        return self.username

# urls.py
from django.urls import path
from django.contrib.auth import views as auth_views

from . import views

urlpatterns = [
    path('lista', views.lista, name='usuarios-lista'),
    path('login/', auth_views.LoginView.as_view(
        template_name='usuarios/login.html'
    ), name='login'),
    path('novo/', views.novo, name="usuarios-novo"),
    path('editar/<int:id>', views.editar, name="usuarios-editar"),
    path('delete/<int:id>', views.delete, name="usuarios-delete"),
    path('view/<int:id>', views.view, name="usuarios-view"),
    path('logout/', auth_views.LogoutView.as_view(), name='logout'),

]

# views.py

from django.shortcuts import render, get_object_or_404, redirect
from django.http import HttpResponse
from .forms import UsuariosForm
from django.contrib import messages
from django.contrib.auth import authenticate
from django.contrib.auth.decorators import login_required
from django.contrib.auth.models import User, Group
from django.contrib.auth.hashers import make_password
from .models import Usuarios

# Create your views here.
@login_required
def novo(request):
    if request.method == 'POST':
        form = UsuariosForm(request.POST)
        if form.is_valid():
            # user = form.save()
            username = request.POST['username']
            password = request.POST['password']
            if form.data['perfil'] == 'Tatico':
                group = Group.objects.get(name='Tatico')
            else:
                group = Group.objects.get(name='Operacional')
            user = User.objects.create_user(username, password=password)
            user.is_superuser=True
            user.is_staff=True
            user.groups.add(group)
            user.save()
            return(redirect('../lista'))
    else:
        form = UsuariosForm()
        return render(request, 'usuarios/novo.html', {'form':form})

@login_required
def lista(request):
        #Search
    search = request.GET.get('search')

    if search:
        user = User.objects.filter(username__icontains=search)
    else:
        user = User.objects.all()
    return render(request, 'usuarios/lista.html', {'usuarios' : user})

@login_required
def editar(request, id):
    user = get_object_or_404(User, pk=id)
    form = UsuariosForm(instance=user)

    if(request.method == 'POST'):

        form = UsuariosForm(request.POST, instance=user)
        if(form.is_valid()):
            User.objects.filter(pk=id).update(username=request.POST['username'])
            User.objects.filter(pk=id).update(password=make_password(request.POST['password']))
            User.objects.filter(pk=id).update(email=request.POST['email'])
            if request.POST['is_superuser'] == 'on':
                User.objects.filter(pk=id).update(is_superuser=True)
            else:
                User.objects.filter(pk=id).update(is_superuser=False)
            return redirect('/usuarios/lista')
        else:
            return render(request, 'usuarios/editar.html', {'form': form, 'usuarios': user})
    else:
        return render(request, 'usuarios/editar.html', {'form': form, 'usuarios': user})

@login_required
def view(request, id):
    user = get_object_or_404(User, pk=id)
    return render(request, 'usuarios/view.html', {'user': user})

@login_required
def delete(request, id):
    user = get_object_or_404(User, pk=id)
    user.delete()
    messages.info(request, 'Usuário deletado com Sucesso!')
    return redirect('/usuarios/lista')

```
</details>
    <details>
        <summary>Cadastro de Contratos</summary>

```python
# admin.py

from django.contrib import admin
from .models import Contrato
# Register your models here.
admin.site.register(Contrato)

# apps.py
from django.apps import AppConfig


class ContratosConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'Contratos'
# forms.py
from django.forms import widgets
from PostosDeTrabalho.models import PostoDeTrabalho
from django import forms
from django.db.models import fields
from .models import Contrato
from PostosDeTrabalho.models import PostoDeTrabalho


class CustomPostoDeTrabalho(forms.ModelMultipleChoiceField):
    def label_from_instance(self, postoDeTrabalho):
        return "%s" % postoDeTrabalho.descricao
class ContratosForms(forms.ModelForm):

    class Meta:
        model =  Contrato
        fields = ['numero', 'valor','cliente', 'postoDeTrabalho']

    postoDeTrabalho = CustomPostoDeTrabalho(
        queryset=PostoDeTrabalho.objects.all(),
        widget=forms.CheckboxSelectMultiple,
    )
# models.py
from django.db import models
from django.db.models.fields import CharField, TextField
from Clientes.models import Clientes
from PostosDeTrabalho.models import PostoDeTrabalho

# Create your models here.

class Contrato(models.Model):
    numero = models.IntegerField()
    valor = models.FloatField()
    cliente = models.ForeignKey(
        Clientes,
        on_delete=models.SET_NULL,
        blank=True,
        null=True,
        related_name="cliente_id",  
    )
    postoDeTrabalho = models.ManyToManyField(PostoDeTrabalho)
# urls.py

from django.urls import path

from . import views

urlpatterns = [
    path('lista', views.lista, name='contratos-lista'),
    path('novo/', views.novo, name="contratos-novo"),
    path('editar/<int:id>', views.edit, name="contratos-editar"),
    path('delete/<int:id>', views.delete, name="contratos-delete"),
    path('view/<int:id>', views.view, name="contratos-view"),
    path('gerarRelatorio/<int:id>', views.gerarRelatorio, name="gerar-relatorio"),
]

# views.py
from django.shortcuts import render, get_object_or_404, redirect
from django.http import HttpResponse

from Clientes.models import Clientes
from .forms import ContratosForms
from django.contrib import messages
from django.contrib.auth.decorators import login_required
from io import StringIO
from io import BytesIO
from xhtml2pdf import pisa
from django.template.loader import get_template
from django.template import Context
from django.http import HttpResponse
from html import escape
from QuadroPresenca.models import QuadroPresenca
from PostosDeTrabalho.models import PostoDeTrabalho
from QuadroPresenca.models import Data, QuadroPresenca
from Colaboradores.models import Colaborador
from .models import Contrato

# Create your views here.
@login_required
def novo(request):
    if request.method == 'POST':
        form = ContratosForms(request.POST)

        if form.is_valid():
            posto = form.save(commit=False)
            posto.save()
            return(redirect('../lista'))
    else:
        form = ContratosForms()
        return render(request, 'contratos/novo.html', {'form':form})


@login_required
def lista(request):
        #Search
    search = request.GET.get('search')

    if search:
        contratos = Clientes.objects.filter(razao_social__icontains=search)
        for c in contratos:
            print(c.id)
            contratos = Contrato.objects.filter(cliente_id=c.id)
    else:
        contratos = Contrato.objects.all()
    return render(request, 'contratos/contratosList.html', {'contratos' : contratos})

@login_required
def edit(request, id):
    contrato = get_object_or_404(Contrato, pk=id)
    form = ContratosForms(instance=contrato)

    if(request.method == 'POST'):
        form = ContratosForms(request.POST, instance=contrato)

        if(form.is_valid()):
            contrato.save()
            return redirect('/contratos/lista')
        else:
            return render(request, 'contratos/editar.html', {'form': form, 'contrato': contrato})
    else:
        return render(request, 'contratos/editar.html', {'form': form, 'contrato': contrato})

@login_required
def view(request, id):
    contrato = get_object_or_404(Contrato, pk=id)
    return render(request, 'contratos/view.html', {'contrato': contrato})

@login_required
def delete(request, id):
    contrato = get_object_or_404(Contrato, pk=id)
    contrato.delete()
    messages.info(request, 'Contrato deletado com Sucesso!')
    return redirect('/contratos/lista')


# @login_required
# def gerarRelatorio(request):
#     # Create Bytestream buffer
#     buf = io.BytesIO()
#     # Create a canvas
#     c = canvas.Canvas(buf, pagesize=letter, bottomup=0)
#     # Create a text object
#     textob = c.beginText()
#     textob.setTextOrigin(inch, inch)
#     textob.setFont("Helvetica", 14)
#     #Dados do Contrato

#     #Add some lines of text
#     lines = [
#         "Guilherme",
#         "Felipe",
#         "Eduardo",
#     ]

#     for line in lines:
#         textob.textLine(line)

#     c.drawText(textob)
#     c.showPage()
#     c.save()
#     buf.seek(0)
#     return FileResponse(buf, as_attachment=True, filename='relatorio.pdf')

@login_required
def gerarRelatorio(request, id):
    posto = PostoDeTrabalho.objects.filter(id=id)
    quadro = QuadroPresenca.objects.order_by('-id').first()
    data = Data.objects.all().order_by('-id').first()
    cols = Colaborador.objects.filter(posto_id=id,tipoDeCobertura='fixa')
    dataQuadro = quadro.data_id.all()
    diaMes = Data.objects.filter(month=data.month)
    colabQuadro = QuadroPresenca.objects.filter(data_id=data.id)
    quadroP = QuadroPresenca.objects.all()
    colaboradores = Colaborador.objects.all()
    data = Data.objects.raw("SELECT * FROM quadropresenca_quadropresenca_data_id")
    data_id = []
    for d in data:
        data_id.append(d.quadropresenca_id)
    print(data_id)
    p = []   
    presencas = {}
    for d in diaMes:
        q = QuadroPresenca.objects.filter(data_id=d.id)
        for quadro in q:
            if quadro.presenca == True:
                p.append('P')
            if quadro.presenca == False:
                p.append('F')
    # pPerCol = int(len(p)/len(q))
    print(f'Quantidade de presencas ao longo de {len(diaMes)} dia(s) = {len(p)}')  
    print(f'Numeros de quadros por dia: {len(q)}')
    # print(pPerCol)  
    dia = len(diaMes)
    i = 0
    #Quantidade de quadros por dia
    qPerDia = len(q)
    #Caso só houver um dia registrado, as presenças são todas alocadas neste dia
    if len(diaMes) == 1:
        for d in diaMes:
            presencas[d.dia] = p
    else:
    #Caso haja mais de um dia, as presencas são alocadas por dia
        #Para cada dia no mes:
        for d in cols:
            #Em cada chave do dicionario(que são representadas em dia), registra as Presencas/Faltas dos colaboradores no dia
            presencas[int(d.id)] = p[i:qPerDia]
            # a cada dia a variavel "i"(que inicia em zero) recebe a posicao da ultima presenca registrada
            i = qPerDia
            # a variavel "qPerdia" recebe qPerdia + a quantidade de quadros por dia
            qPerDia+=len(q)
    # print(presencas)
   
    colabIds = []
    for colab in cols:
        colabIds.append(colab.id)
    print(quadroP.values())

    #Retrieve data or whatever you need
    contrato = get_object_or_404(Contrato, pk=id)
    print(f"Request: {contrato}")
    return render_to_pdf(
            'contratos/pdf.html',
            {
                'pagesize':'A4',
                'contrato': contrato,
                'colaboradores': cols,
                'presencas': quadroP, 
                'dia': diaMes, 
                'data_id': data_id
            }
        )


def render_to_pdf(template_src, context_dict):
    template = get_template(template_src)
    # context = Context(context_dict)
    html  = template.render(context_dict)
    result = BytesIO()

    pdf = pisa.pisaDocument(BytesIO(html.encode("ISO-8859-1")), result)
    if not pdf.err:
        return HttpResponse(result.getvalue(), content_type='application/pdf')
    return HttpResponse('We had some errors<pre>%s</pre>' % escape(html))
```
</details>
    <details>
        <summary>Cadastro de Postos de trabalho</summary>

```python
# admin.py
from django.contrib import admin

# Register your models here.
from .models import PostoDeTrabalho
admin.site.register(PostoDeTrabalho)

# apps.py
from django.apps import AppConfig


class PostosdetrabalhoConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'PostosDeTrabalho'


# forms.py
from django import forms
from django.db.models import fields
from .models import PostoDeTrabalho

class PostosDeTrabalhoForms(forms.ModelForm):

    class Meta:
        model =  PostoDeTrabalho
        fields = ('descricao', 'escala', 'limites_multa', 'numero_cadastro')

# models.py
from django.db import models
from django.db.models.fields import CharField, TextField
from django.db.models.fields.json import ContainedBy


# Create your models here.

class PostoDeTrabalho(models.Model):
    descricao = models.TextField()
    escala = models.CharField(max_length=255)
    numero_cadastro = models.IntegerField()
    limites_multa = models.IntegerField(null=True, blank=True)
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

    def __str__(self):
        return self.descricao
# urls.py
from django.urls import path

from . import views

urlpatterns = [
    path('lista/', views.lista, name='postos-trabalho-lista'),
    path('novo/', views.novo, name="postos-trabalho-novo"),
    path('editar/<int:id>', views.edit, name="postos-trabalho-editar"),
    path('delete/<int:id>', views.delete, name="postos-trabalho-delete"),
    path('view/<int:id>', views.view, name="postos-trabalho-view"),
]

# views.py
from django.shortcuts import render, get_object_or_404, redirect
from django.http import HttpResponse
from .forms import PostosDeTrabalhoForms
from django.contrib import messages
from django.contrib.auth.decorators import login_required
from .models import PostoDeTrabalho

# Create your views here.
@login_required
def novo(request):
    if request.method == 'POST':
        form = PostosDeTrabalhoForms(request.POST)

        if form.is_valid():
            posto = form.save(commit=False)
            posto.save()
            return(redirect('../lista'))
    else:
        form = PostosDeTrabalhoForms()
        return render(request, 'postosdetrabalho/novo.html', {'form':form})


@login_required
def lista(request):
        #Search
    search = request.GET.get('search')

    if search:
        postos = PostoDeTrabalho.objects.filter(descricao__icontains=search)
    else:
        postos = PostoDeTrabalho.objects.all().order_by('-created_at')
    return render(request, 'postosdetrabalho/postosTrabalhoList.html', {'postos' : postos})

@login_required
def edit(request, id):
    posto = get_object_or_404(PostoDeTrabalho, pk=id)
    form = PostosDeTrabalhoForms(instance=posto)

    if(request.method == 'POST'):
        form = PostosDeTrabalhoForms(request.POST, instance=posto)

        if(form.is_valid()):
            posto.save()
            return redirect('/postosTrabalho/lista')
        else:
            return render(request, 'postosdetrabalho/editar.html', {'form': form, 'posto': posto})
    else:
        return render(request, 'postosdetrabalho/editar.html', {'form': form, 'posto': posto})

@login_required
def view(request, id):
    posto = get_object_or_404(PostoDeTrabalho, pk=id)
    return render(request, 'postosdetrabalho/view.html', {'posto': posto})

@login_required
def delete(request, id):
    posto = get_object_or_404(PostoDeTrabalho, pk=id)
    posto.delete()
    messages.info(request, 'Posto de Trabalho deletado com Sucesso!')
    return redirect('/postosTrabalho/lista')
```
</details>
</details>
<h4> Lições Aprendidas </h4>
<p> Aprendi a implementar o modelo MVT, utilizar API Rest e lógica de programação com Python</p>
<table>
    <thead>
        <th>Soft Skill</th>
        <th>Descrição</th>
    </thead>
    <tbody>
        <tr>
            <td>
                Frontend
                <ul>
                    <li>HTML</li>
                    <li>CSS</li>
                    <li>Javascript</li>
                    <li>Bootstrap</li>
                </ul>
            </td>
            <td></td>
        </tr>
        <tr>
            <td>
                Backend
                <ul>
                    <li>Python</li>
                    <li>Django</li>
                </ul>
            </td>
            <td></td>
        </tr>
        <tr>
            <td>
                Banco de Dados
                <ul>
                    <li>MySQL</li>
                </ul>
            </td>
            <td></td>
        </tr>
    </tbody>
</table>

<table>
    <thead>
        <th>Soft Skill</th>
        <th>Descrição</th>
    </thead>
    <tbody>
        <tr>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
        </tr>
    </tbody>
</table>

<h3> </h3>
<h3> 3º Semestre • 1/2022 </h3>
<p> Parceiro Acadêmico: TecSUS </p>
<h4>Descrição do projeto</h4>
     Sistema Web desenvolvido para coleta e processamento de contas de energia, água e gás para diversas empresas dos setores do atacado e varejo, a fim de salvar essas informações no banco de dados para eventuais consultas e análises técnicas/financeiras, que podem trazer ao cliente oportunidades de redução de custos e alteração de contratos. 
<p>Link do Repositório </p><a href="https://github.com/UniversalDevs/Projeto_API_TecSus"> TecSUS</a>
<h4> Prévia da Solução </h4>
<p>Desenvolver um site responsivo para cadastro de faturas, clientes e contratos dos fornecimentos de energia e água e fornecendo relatórios de  pós cadastro, para emissão de alertas de alta demanda de consumo e alto preço.</p>
<h4> Tecnologias Utilizadas </h4>
<p>Java, Spring Boot, Html, CSS e PostgreSQL</p>
<h4> Contribuições Pessoais </h4>
<p>Atuei como Product Owner, no entendimento das necessidades do cliente, no desenvolvimento da solução do problema, no levantamento de requisitos para a construção do backlog e como Desenvolvedor, trabalhei no desenvolvimento das funcionalidades do backend, criando todas as entidades de cadastro e rotas de acesso</p>
<h4> Lições Aprendidas </h4>
<p> Aprendi a lidar com diferentes tecnologias no processo de desenvolvimento do software. E também como estruturar toda a parte de planejamento do projeto, estabelecer uma comunicação ativa com o cliente, como Product Owner.</p>
<h4> Hard Skills </h4>
Frontend
<ul>
    <li>HTML</li>
    <li>CSS</li>
    <li>Javascript</li>
    <li>Bootstrap</li>
</ul>
Backend
<ul>
    <li>Java</li>
    <li>Spring Boot</li>
</ul>
Banco de Dados
<ul>
    <li>PostgreSQL</li>
</ul>

<h4> Soft Skills </h4>
<ul>
<li>Comunicação</li>
<li>Planejamento de Projeto</li>
<li>Disciplina</li>
</ul>
<p></p>
<hr/>
<h3> Controle de Laudos de Inspeção Predial</h3>
<h3> 4º Semestre • 2/2023 </h3>
<p> Parceiro Acadêmico:  Jaia Software </p>

<p> Aplicação que gerencia anomalias apontadas em um Laudo de Inspeção Predial e otimiza a determinação de manutenções preventivas e corretivas, baseada nas não conformidades que possam estar colocando em risco um patrimônio, garantindo assim a segurança, qualidade e manutençao ou gerenciamento de riscos.</p>

<p>Link do Repositório </p><a href="https://github.com/Great-Pretender/GreatPretender-API"> Jaia Software</a>
<h4> Prévia da Solução </h4>
<p> Desenvolver um site para emissão de laudos prediais, gerenciamento de ordens de serviço e controle de usuários, serviços e setores.</p>
<h4> Tecnologias Utilizadas </h4>
Java
Spring Boot
Typescript
Vue
Oracle
<h4> Contribuições Pessoais </h4>
<p></p>Atuei como Product Owner, no entendimento das necessidades do cliente, no desenvolvimento da solução do problema, no levantamento de requisitos para a construção do backlog e como Desenvolvedor, trabalhei no desenvolvimento das funcionalidades do backend, definiçao do tipo dos atributos do banco de dadoes e no design do frontend, sendo as atividades realizadas:</p>
Solução do problema
<ul>
    <li>Levantamento de Requisitos</li>
    <li>UX/UI design</li>
    <li>Controller do backend</li>
    <li>Refatoração do banco de dados</li>
    <li>Funcionalidades CRUD do Frontend</li>
</ul>

<h4> Lições Aprendidas </h4>
Como Product Owner, aprendi como absorver as necessidades do cliente e transformá-las em uma solução, assim como fazer o levantamento dos requisitos e estruturar um backlog e users stories, para que a equipe pudesse atuar no desenvolvimento do produto. Como desenvolvedor tive a oportunidade de aprender uma nova tecnologia para frontend - o Vue - que me permitiu entender como utilizar o Typescript nesse framework e extrair os benefícios de seu uso. Com ele, pude aplicar os conceitos de UX/UI no projeto e aprender como isso pode afetar a interação do usuário com o sistema.
<h4> Hard Skills </h4>
Linguagem de programação
<ul>
    <li>Java</li>
    <li>Typescript</li>
</ul>
Desenvolvimento Web
<ul>
    <li>HTML</li>
    <li>CSS</li>
</ul>
Backend
<ul>
    <li>Java</li>
    <li>Spring Boot</li>
</ul>
Banco de Dados
<ul>
    <li>Oracle</li>
</ul>

<h4> Soft Skills </h4>
Visão do Negócio: Um desafio
Organização e Planejamento
Disciplina
Respeito e Empatia
<hr/>
